<!DOCTYE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>在textarea里面光标位置插入文字</title>
</head>
<body>
	<script type="text/javascript">
		/**
		 * 公用的在textarea里面光标位置插入输入表情及内容的方法
		 * @param {String} myField 要插入的文字
		 * @param {Number} myValue textarea已存在的值
		 */
		function insertAtCursor(myField, myValue) {
		  if (document.selection) {
		      //IE support
		      myField.focus();
		      sel = document.selection.createRange();
		      sel.text = myValue;
		      sel.select();
		  } else if (myField.selectionStart || myField.selectionStart == '0') {
		      //MOZILLA/NETSCAPE support
		      var startPos = myField.selectionStart;//
		      var endPos = myField.selectionEnd;
		      var beforeValue = myField.value.substring(0, startPos);
		      var afterValue = myField.value.substring(endPos, myField.value.length);
		      myField.value = beforeValue + myValue + afterValue;
		      myField.selectionStart = startPos + myValue.length;
		      myField.selectionEnd = startPos + myValue.length;
		      myField.focus();
		  } else {
		      myField.value += myValue;
		      myField.focus();
		  }
		}
		 //表情包
	    // $('.countenance_icon_div').on('click','.look img',function(e){
	    //     insertAtCursor($('.Imgtext1')[0],$(e.target).data('text'));此处把对应的表情数字放在data-text里面
	    // })
	</script>
</body>
</html>